#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# å…³é”®ï¼šä»»ä½•å‘½ä»¤å¤±è´¥ç«‹å³é€€å‡º
set -e

# 1. ç±»å‹æ£€æŸ¥ï¼ˆæ‹¦æˆªè¯­æ³•é”™è¯¯å’Œç±»å‹é”™è¯¯ï¼‰
echo "ğŸ” Type checking..."
npm run type-check

# 2. ä»£ç æ ¼å¼åŒ–ï¼ˆè‡ªåŠ¨ä¿®å¤æ ¼å¼é—®é¢˜ï¼‰
echo "ğŸ¨ Formatting..."
npm run format

# 3. è¿è¡Œæµ‹è¯•ï¼ˆç¡®ä¿åŠŸèƒ½æ­£å¸¸ï¼‰
echo "ğŸ§ª Running tests..."
npm run test

# 4. æŠŠæ ¼å¼åŒ–åçš„æ–‡ä»¶é‡æ–°åŠ å…¥æš‚å­˜åŒº
echo "âœ… Adding formatted files to commit..."
git add .